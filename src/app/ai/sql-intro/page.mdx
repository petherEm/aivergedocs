export const metadata = {
  title: 'SQL 101',
  description: 'SQL 101',
}

# Introduction

SQL (Structured Query Language) is a domain-specific language used in programming and designed for managing data held in a relational database management system (RDBMS), or for stream processing in a relational data stream management system (RDSMS). It is particularly useful in handling structured data, i.e. data incorporating relations among entities and variables. {{ className: "lead" }}

```sql
SELECT *
FROM browse
LIMIT 10;
```

```sql
 SELECT utm_source,
 	COUNT(DISTINCT user_id) AS num_users
FROM page_visits
GROUP BY 1
ORDER BY 2 DESC;
```

## What is RDMS

WHAT IS database

**A database** is a set of data stored in a computer. This data is usually structured in a way that makes the data accessible.

**A relational database** is a type of database. It uses a structure that allows us to identify and access data in relation to another piece of data in the database. Often, data in a relational database is organized into tables.

TABLES: ROWS AND COLUMNS

Tables can have hundreds, thousands, sometimes even millions of rows of data. These rows are often called `records`.

Tables can also have many columns of data. Columns are labeled with a descriptive name (say, age for example) and have a specific data type.

For example, a column called age may have a type of `INTEGER` (denoting the type of data it is meant to hold).

**A relational database management system (RDBMS)** is a program that allows you to create, update, and administer a relational database. Most relational database management systems use the SQL language to access the database.

## SQL

**SQL (Structured Query Language)** is a programming language used to communicate with data stored in a relational database management system. SQL syntax is similar to the English language, which makes it relatively easy to write, read, and interpret.

Many RDBMSs use SQL (and variations of SQL) to access the data in tables. For example, SQLite is a relational database management system. SQLite contains a minimal set of SQL commands (which are the same across all RDBMSs). Other RDBMSs may use other variants.

(SQL is often pronounced in one of two ways. You can pronounce it by speaking each letter individually like “S-Q-L”, or pronounce it using the word “sequel”.)

**MySQL**

MySQL is the most popular open source SQL database. It is typically used for web application development, and often accessed using PHP.

The main advantages of MySQL are that it is easy to use, inexpensive, reliable (has been around since 1995), and has a large community of developers who can help answer questions.

Some of the disadvantages are that it has been known to suffer from poor performance when scaling, open source development has lagged since Oracle has taken control of MySQL, and it does not include some advanced features that developers may be used to.

**PostgreSQL**

PostgreSQL is an open source SQL database that is not controlled by any corporation. It is typically used for web application development.

PostgreSQL shares many of the same advantages of MySQL. It is easy to use, inexpensive, reliable and has a large community of developers. It also provides some additional features such as foreign key support without requiring complex configuration.

The main disadvantage of PostgreSQL is that it can be slower in performance than other databases such as MySQL. It is also slightly less popular than MySQL.

**Oracle DB**

Oracle Corporation owns Oracle Database, and the code is not open sourced.

Oracle DB is for large applications, particularly in the banking industry. Most of the world’s top banks run Oracle applications because Oracle offers a powerful combination of technology and comprehensive, pre-integrated business applications, including essential functionality built specifically for banks.

The main disadvantage of using Oracle is that it is not free to use like its open source competitors and can be quite expensive.

**SQL Server**

Microsoft owns SQL Server. Like Oracle DB, the code is close sourced.

Large enterprise applications mostly use SQL Server.

Microsoft offers a free entry-level version called Express but can become very expensive as you scale your application.

**SQLite**

SQLite is a popular open source SQL database. It can store an entire database in a single file. One of the most significant advantages this provides is that all of the data can be stored locally without having to connect your database to a server.

SQLite is a popular choice for databases in cellphones, PDAs, MP3 players, set-top boxes, and other electronic gadgets. The SQL courses on Codecademy use SQLite.

EXAMPLES

```sql
SELECT * FROM celebs;

CREATE TABLE celebs (
   id INTEGER,
   name TEXT,
   age INTEGER
);
```

```sql
INSERT INTO celebs (id, name, age)
VALUES (1, 'Justin Bieber', 22);

INSERT INTO celebs (id, name, age)
VALUES (2, 'Beyonce Knowles', 33);
```

`ALTER TABLE` adds a new column to a table:

```sql
ALTER TABLE celebs ADD COLUMN twitter_handle TEXT;

SELECT*FROM celebs;
```

`UPDATE` changes the values of a column:

```sql
UPDATE celebs SET twitter_handle = '@taylorswift13' WHERE id = 4;

SELECT* FROM celebs;
```

`DELETE FROM` deletes rows from a table:

```sql
DELETE FROM celebs WHERE twitter_handle IS NULL;

SELECT * FROM celebs;
```

ONE MORE QUERY EXAMPLE

```sql
CREATE TABLE friends (
  id INTEGER,
  name TEXT,
  birthday DATE
);

INSERT INTO friends (id, name, birthday)
VALUES ('1', 'Jane Doe', '1990-05-30')


SELECT * FROM friends;

INSERT INTO friends (id, name, birthday)
VALUES ('2', 'Mary Doe', '1993-05-30')
VALUES ('3', 'Marian Doe', '1995-10-12')
```

`DISTINCT` is used to return unique values in the output:

```sql
SELECT DISTINCT year FROM movies;
```

`WHERE` is used to filter records:

```sql
SELECT * FROM movies WHERE year > 2014;
```

`LIKE` is used in a `WHERE` clause to search for a specified pattern in a column:

```sql
SELECT * FROM movies WHERE name LIKE 'Se_en';
```

`IS NULL` is used to filter records based on NULL values:

```sql
SELECT name FROM movies WHERE imdb_rating IS NOT NULL;
```

`BETWEEN` is used to filter the result set within a certain range:

```sql
SELECT *
FROM movies
WHERE year BETWEEN 1970 AND 1979;
```

`ORDER BY` is used to sort the result set in ascending or descending order:

```sql
SELECT name, year, imdb_rating FROM movies ORDER BY imdb_rating DESC;
```

`CASE` is used to create different outputs (usually in the `SELECT` statement):

```sql
SELECT name,
 CASE
  WHEN genre = 'romance' THEN 'Chill'
  WHEN genre = 'comedy'  THEN 'Chill'
  ELSE 'Intense'
 END AS 'Mood'
FROM movies;
```

## Aggregate Functions

SQL Queries don’t just access raw data, they can also perform calculations on the raw data to answer specific data questions.

Calculations performed on multiple rows of a table are called **aggregates.**

- `COUNT()`: count the number of rows
- `SUM()`: the sum of the values in a column
- `MAX()`: the largest value
- `MIN()`: the smallest value
- `AVG()`: the average of the values in a column
- `ROUND()`: round the values in the column

## Multiple Tables

**JOIN** is a clause in SQL that allows you to query data from two or more tables.

```sql
SELECT *
FROM orders
JOIN subscriptions
  ON orders.subscription_id = subscriptions.subscription_id;
```

```sql
SELECT COUNT(*)
FROM newspaper
WHERE start_month <= 3
  AND end_month >= 3;

  SELECT *
FROM newspaper
CROSS JOIN months;

SELECT *
FROM newspaper
CROSS JOIN months
WHERE start_month <= month AND
end_month >= month
```
